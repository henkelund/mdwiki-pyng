<!DOCTYPE html>
<html lang="en" ng-app="mdwiki">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>mdwiki</title>
        <link rel="stylesheet" href="/css/styles.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.20/angular-route.min.js"></script>
        <script src="/js/mdwiki.js"></script>
    </head>
    <body>

        <header class="topbar">
            <nav ng-controller="BreadcrumbsCtrl" class="breadcrumbs">
                <ul ng-if="filename">
                    <li class="dir" ng-repeat="dir in path">
                        {{dir}}
                    </li>
                    <li class="file">
                        {{filename|stripExtension}}
                    </li>
                </ul>
            </nav>
            <nav ng-controller="TocCtrl" class="toc">
                <ul>
                    <li ng-repeat="heading in toc"
                        ng-class="{'focus': heading.inFocus}"
                        class="level-{{heading.level}}">
                        <a href="{{heading.url}}">{{heading.title}}</a>
                    </li>
                </ul>
            </nav>
        </header>

        <aside class="sidebar">
            <nav ng-controller="TreeCtrl" class="tree">
                <tree node="root"
                      on-toggle-open="toggleOpen(dir, parent)"
                      toggle-open-fn="toggleOpen"
                      is-active-fn="isActive">
                    <span>{{node.basename}}</span>
                </tree>
            </nav>
            <nav ng-controller="SearchCtrl" class="search">
                <input ng-model="query" ng-change="search(query)" type="text" placeholder="Search.." />
                <div ng-show="correction && query.length" class="correction">
                    Search for
                    <a href="javascript:void(0)" ng-click="query = correction; search(query)" ng-bind-html="safeCorrection"></a>
                </div>
                <ul ng-show="query.length >= minQueryLength">
                    <li ng-repeat="hit in hits">
                        <a href="#{{hit.file}}">{{hit.title}}</a>
                        <p ng-bind-html="hit.safeHighlights"></p>
                    </li>
                </ul>
            </nav>
        </aside>

        <div class="main" ng-view></div>
    </body>
</html>

